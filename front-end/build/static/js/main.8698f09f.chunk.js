(this["webpackJsonpreact-auth"]=this["webpackJsonpreact-auth"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/SVGHEADER.3e6893cd.svg"},21:function(e,t){e.exports="data:image/png;base64,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"},22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAApJSURBVHgB7Z2Ndds2EMcPoPXhtu9VnaDqBNEGdiZIOkHcCZINmk7QblBng2aC2BNEmcDKBFbeS54ViQSKo0gJhECJkijiQOH3nhNaop5F/HkH8ADcMWgBcjAYxF+/jhhjQ8b5M5BygMcSYLg8QQ6AsYHloxMGMIXsJ5Hyk5RyyqQcX/z005hNp1PwHAYesri4uJaMjS44v1IijiAXsn7wBhjHQtyj6J04vgPP8EJgtNDFt283StAXysJGJdbYwBdR1s3YnRDi/SKK7i5nswkQh6zABVEBrrefLNGVTtTPWAB8VtY2kVE0iZevQb/fn9rc7VO/P4ySZMCiaMCSZCjRxQM8wxuIVbiR1Lko9jvKYpMTGN0v5/yVOny5pYEnStQ7Zc33p2zceacz4lE0AiGuleVewbauQMpbFNtHN94IKKzo9T4kvZ60/cTqvXmv9watDhwh1d+O+/2beMv3VNfwMe50biCwBIVVDfOwTVR010CMXOyk2/1YIvbDWQtdarHd7uOi1/tn0e9fgyegK4+73dsyofFa4VzAO79U2H7/LUVrrQpeG96cVo/U7f7rsntpBNnrvUYh2yasSSq0uiaLNT/KbvdPaBtbrPbfNglrkvbTdtf90BprtlktjjR96mOPBYW2uG1skzfgK2iZSty/zbsXXRecKTa3LTudv8E3MpdsPj484GgTzpwSa/bHZaOI5gXgyLLNfe2+qNDrIBtt+yWyGlC8NPvbuc/9zImZX16+MftlbEOgiHI9r8zHn+CSd2PzeNiWQIkNcdv0GNAAtn6ZjMhB3HogKXLa5wZxa8MmsrM+Of0yxQFVELcGLCI3P5axfIkgbo04b98g7ukxPSQGjhqJJZjhx/AodDqyR6jmwprpxEEIYjSKJRhymjY3XQaG2iDQCEZY8/EkXaLZ74bYcnNg7Fpvf5xbhzpR1vun7ibCoKp5zP64Nle94Zq73bcQcIIxn1yPq8ZlNbprhoBThLZM92hXjctqgmumhanJUUtyCwMrZckQIIG+kO9gK8ZV+cF6aZKOqvVx0SFWrFtvGFjRwxhw7Tc2Mqw3xJoJcpQV6xuqvFzWeSboVly5L6Y6cg6Rs02qWDHfeEGI9TIRKW8p7FzHSJp4eiK1rprC6kdMICMYe5f/nm2cLyebaCY1FWiESUms1MyDPxQ2khke93Grp9MHVxgxAceYMXAKIhuRPRIi6xv7tk7h6ifi7nVwSIm4TkU2xaUiMoq6c7BlumfHuTC2ietE5DJxKYicTSeuv4vmpleDrCRJrrUPOEsLlG5cE6LKVNgg4vxDEyKnYVrGbradowY7b12JjIMtTOmU/754errJj9ejaM5frD+xHpk1DVM3ViLl8yz31S5OLnIVcXNih2mp1N9+nx9fALzYOEF/nqLw7JtOcJvpHhp217vccmFWx3E41+hiHwtvGkNtMnO+LkX2SdycRJ8/yIIeqYtO8z/mSHkHROguFmMX7noftyyk/Kszn78FAmDmv9UxZuiDTGD1z9XqDc7vgRBNi+yruCmacfIsv2cqMFum5E0RSTIGYjQlstfiKqIousuP06Sq+D8+Q4l1pzyNvn//BYiCokWMfaiYTniaCPEcb44K53ovbg6OWfL24ZeXv3AVsVrd6UpsctarcypLbou4GZP8ALPg88IAC+ALEKdukVsmLhrpp9UxY0POsJ5B/oKUpC04py6R2yYuIjULZpyPOGPs2epNKSfgCceK3EZxEaZpqNzzz1wNowe2N33gUJHbKi6CpQxWx8pFX8hlyZn8hSoNRQoUWYn2PAKoMrpGkSvPc/smLqLi0BORHStVh1xvlE4UPYKH7GnJlfBRXBsM45b5L+oZ2Ms6Sjl7PieX4rO4ZlyDQ4uow5J9t9ysklvOoFUCI8eI3Ba3rNM6gZGVyHvAhfinbeIirRQYUX3x633OF5zftDFjENddWVt2D+zznKvR2BqvJsHHpHVfNZv9DJ5zoLg53ossi8utJq1y0UeKm+O1yIso0iOTU8706aU4/g08pSZxc7wVmSXJSmChvDNXjwaf8xcwdgkespe4Ut5SWZJ7CrBMrvbrF67Hn5mHAu87cRDN539QWnddN7qR4vQvZ0Ks5oBVh/wreMShs0KuVms2QWH6F120Pr2kL76jzrFTfm0VuTD9myRjrxbd5dQ5n3vKhXwu2Fh0lwWnJ9n7A/UcRdpN1z1Z3yZLnv/440i7USdsOl3OJumrKRdJslcMt0lOtRKjLSLz+VxfIZsuvksFFgCr3QzKXV0BQU69zKYNIjNNO5FtJ+XZG2PtrGsgRlNrqLwXWdOOmTtU9F18lPphF7v8KGxd3Zey7aOrWLRuxQspfwcCuFr96KMlGxkaVl3uSuCdO8QbxvXS1kNEdrlxvpAji7H/Nk7YlsijaSwl85xtvq7qrl1uAq+cQKdyvqUGsJVDd9Wou0R2vcNfz28Wb8tZWSnfUoNsE7npRi0TmUL6Bj157Nb8ZrUkmq4Zm8iuGtUUmYK4GL2q5J5z9HTxVIpf6SK7btRcZDKJV/THyCplF/ZKbtkgKDKVRqXSJubgqrLH1QdbIZ0/XRKtUOheyWOpWnFgjVljeO/ksUkoykEaI2Hr/snrghXTxex7D079rPfFlUZogUaordxgrWXUArVw8Mi5DN2KsY48BJyS1F1uMJSXpUNhYKU0qW32yqwj38ZtltTZcM11G1phwBVKvDcKtnXBNZ8ip7fpqkPJu+aQWsSqVtdsYrrqxPGc8TmgxH1d6B5P3eY4wxT642ZIZ670freJ2b10q4s2wYxRrlB+tn7MWHPSZC0N2x8PItcHifa1LGEJItfAhrinHFTtwrL6MYh8BBbLlfEPP7wEl+BMRhD5eKziOi4QuiKIfBykxc2xiRweoXZjW45LTtyctE/eXDscgiElmEEMbDvnfe4ubO4Gw5ohdr0G26IQfvTN49lEDv3ykiw6VWgbnGf3sm3MsGZqzQRq3rsCr91sD2wjr71bOkGx2S+flTXjshq0UrO/db3BrzZKXHa65KTNQqfzuJYMBbgDsJXXne4xsuzQQ9fVpgtOB1Hojs1rbZPVloHWrG9w0902jix9FrpU2DZbbRnZktwHi9Cp6/YpSIJ9bIKPPSXC4rXCuZJFwKxC48AEd69TvPPRWtVN+MZYq1bwSGctrEkqdHEhgSn2B9di49/eISo5iyVX6Qwbhwlxwxh7teW0Cdarl1LeC4DxqZKDoqCdJLlOM8gtk4wNrScuM/H8Jzh/15nN7oAQZEvZpY9WANeq8V4x/H/ryXKa5fmaJlJ+wiqqWCoX8yUnUTS9nM0mGx9RLnY2m6UBhos4HmIy9LSgMsCv6nikPj/clYFWAtypG+x95/LyFhN/AkG8qFW4EluIF6nYR9YmPPyLyKm6CcbURdXxshglunEsTc+lvEJrgzLXeTzoCcaCsXv0ENTcbxW8rjaag+42ns3QrY6wZL26qGdo5WxZGxmtfbj5IdVvZvUqsCw6unUl5BcscYBZ8C/6/bEPFrqL/wE1uHY7nLjFmgAAAABJRU5ErkJggg=="},27:function(e,t,a){e.exports=a(38)},32:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),l=(a(32),a(15)),s=a(25),i=a(1),u=a(7),m=a(19),d=a.n(m),f=function(e){var t=e.email,a=e.onClick,n=e.linkText,o=e.link;return r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:d.a,alt:"logo",className:"header__logo"}),r.a.createElement("div",{className:"header__content"},r.a.createElement("p",{className:"header__text"},t),r.a.createElement(u.b,{className:"header__text-link",to:o},r.a.createElement("span",{onClick:a},n))))},h=r.a.createContext(),p=function(e){var t=e.card,a=e.onCardClick,n=e.onCardLike,o=e.onCardDelete,c=r.a.useContext(h),l=t.owner===c._id,s="elements__trash ".concat(l?"elements__trash_visible":"elements__trash_hidden"),i=t.likes.some((function(e){return e===c._id}));return r.a.createElement("li",{className:"elements__item"},r.a.createElement("div",{className:"elements__image",onClick:function(e){a(t)},style:{backgroundImage:"url(".concat(t.link,")")}}),l&&r.a.createElement("button",{className:s,type:"button",onClick:function(){return o(t)}}),r.a.createElement("div",{className:"elements__info"},r.a.createElement("h3",{className:"elements__title"},t.name),r.a.createElement("button",{onClick:function(e){n(t)},className:i?"elements__image-heart  elements__image-heart_active":"elements__image-heart",type:"button",name:"like"}),r.a.createElement("h4",{className:"elements__like-count"},t.likes.length)))},b=function(e){var t=e.onEditAvatar,a=e.onEditProfile,n=e.onAddCard,o=e.onCardLike,c=e.onCardClick,l=e.onCardDelete,s=e.cards,i=r.a.useContext(h);return r.a.createElement("main",null,r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar"},r.a.createElement("img",{className:"profile__avatar-image",src:i.avatar,alt:"profile"}),r.a.createElement("button",{className:"profile__avatar-overlay",onClick:t})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h2",{className:"profile__name"},i.name),r.a.createElement("p",{className:"profile__profession"},i.about),r.a.createElement("button",{className:"profile__info-btn",type:"button",onClick:a})),r.a.createElement("button",{className:"profile__button-add",onClick:n})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__list"},s.map((function(e,t){return r.a.createElement(p,{key:t,card:e,onCardLike:function(e){o(e)},onCardClick:function(e){c(e)},onCardDelete:function(e){l(e)},_id:e._id,likes:e.likes})})))))},g=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{required:!0,id:e.name,className:"modal__form-profession modal__input",type:e.type,name:e.name,onChange:e.handleChange,defaultValue:e.defaultValue}),r.a.createElement("span",{id:"".concat(e.name,"-error"),className:"modal__formerror"}))},E=function(e){return r.a.createElement("div",{className:e.isOpen?"".concat(e.name," modal_active modal"):"".concat(e.name," modal ")},r.a.createElement("div",{className:"modal__info"},r.a.createElement("button",{className:"modal__close","aria-label":"close modal","data-close":!0,type:"button",onClick:e.onClose}),r.a.createElement("p",{className:"modal__title"}," ",e.title),r.a.createElement("form",{onSubmit:e.handleSubmit,className:"modal__form",name:e.name},e.children,r.a.createElement("button",{className:"modal__save-button modal__save",value:e.buttonText,type:"submit"},e.buttonText))))},v=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],m=s[1];return r.a.createElement(E,{handleSubmit:function(t){t.preventDefault(),e.onAddPlace({name:o,link:u})},name:"card-add",title:"New Place",buttonText:"Create",isOpen:e.isOpen,onClose:e.onClose},r.a.createElement(g,{handleChange:function(e){c(e.target.value)},type:"text",defaultValue:"Name"}),r.a.createElement(g,{handleChange:function(e){m(e.target.value)},type:"url",defaultValue:"Link"}))},N=function(e){var t=Object(n.useContext)(h),a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),m=u[0],d=u[1];return r.a.createElement(E,{handleSubmit:function(t){t.preventDefault(),e.updateUser(c,m)},name:"profile-edit",title:"Edit Profile",buttonText:"Save",isOpen:e.isOpen,onClose:e.onClose},r.a.createElement(g,{handleChange:function(e){l(e.target.value)},name:"name",type:"text",defaultValue:t.name}),r.a.createElement(g,{handleChange:function(e){d(e.target.value)},name:"profession",type:"text",defaultValue:t.about}))},C=function(e){var t=Object(n.useContext)(h),a=Object(n.useState)(t.avatar),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useRef)(c);return r.a.createElement(E,{handleSubmit:function(t){t.preventDefault(),e.onUpdateAvatar(c)},name:"avatar-change",title:"Change Profile Avatar",buttonText:"Save",isOpen:e.isOpen,onClose:e.onClose},r.a.createElement("input",{required:!0,id:"profile-url",onChange:function(e){l(s.current.value)},name:"ImageLink",placeholder:"URL",ref:s,className:"modal__form-profession modal__form-link modal__form-avatar  modal__input",type:"url",defaultValue:t.avatar}),r.a.createElement("span",{id:"profile-url-error",className:"modal__formerror"}))},A=function(e){var t=e.card,a=e.onClose;return r.a.createElement("div",{className:"modal figure  ".concat(""!==t?"modal figure modal_active":"")},r.a.createElement("div",{className:"modal__figure-container"},r.a.createElement("button",{className:"modal__close modal__figure-exit",onClick:a}),r.a.createElement("img",{className:"modal__figure-image",src:"".concat(t.link),alt:t.name}),r.a.createElement("p",{className:"modal__figure-caption"},t.name)))},k=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__text"}," \xa9 2020 Around The U.S "))},O=a(2),_=Object(O.h)((function(e){var t=e.heading,a=e.buttonText,o=e.handleLogin,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),h=f[0],p=f[1];return r.a.createElement("div",{className:"login"},r.a.createElement("p",{className:"login__welcome"},t),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(h,s)},className:"login__form"},r.a.createElement("input",{className:"login__input",id:"username",placeholder:"Email",required:!0,name:"username",type:"text",onChange:function(e){m(e.target.value)}}),r.a.createElement("input",{className:"login__input",id:"password",required:!0,name:"password",type:"password",onChange:function(e){p(e.target.value)},placeholder:"Password"}),r.a.createElement("button",{type:"submit",className:"login__button"},a)),r.a.createElement("p",{className:"login__register"},"Not a member yet?"," ",r.a.createElement(u.b,{className:"login__register-link",to:"/signup"},"Sign up here!")))})),j=Object(O.h)((function(e){var t=e.heading,a=e.buttonText,o=e.handleSignup,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),h=f[0],p=f[1];return r.a.createElement("div",{className:"login"},r.a.createElement("p",{className:"login__welcome"},t),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(h,s)},className:"login__form"},r.a.createElement("input",{className:"login__input",id:"username",placeholder:"Email",required:!0,name:"username",type:"text",onChange:function(e){m(e.target.value)}}),r.a.createElement("input",{className:"login__input",id:"password",required:!0,name:"password",type:"password",onChange:function(e){p(e.target.value)},placeholder:"Password"}),r.a.createElement("button",{type:"submit",className:"login__button"},a)),r.a.createElement("p",{className:"login__register"},"Already a Member?",r.a.createElement(u.b,{to:"/signin",className:"login__register-link"},"Log in here!")))})),S=a(26),x=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return r.a.createElement(O.b,null,(function(){return a.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{email:a.userEmail,link:"/signin",linkText:"Logout",onClick:a.signOut}),r.a.createElement(t,a)):r.a.createElement(O.a,{to:"/signin"})}))},y="http://api.enyelbackend.students.nomoreparties.site",w=a(21),P=a.n(w),R=a(22),U=a.n(R),L=function(e){var t=e.valid,a=e.isOpen,n=e.onClose,o=e.popupType;return r.a.createElement("div",{className:"".concat(o,a?" modal_active modal":" modal ")},r.a.createElement("div",{className:"modal__info"},r.a.createElement("button",{className:"modal__close","aria-label":"close modal","data-close":!0,type:"button",onClick:n}),r.a.createElement("div",{className:"modal__content"},r.a.createElement("img",{className:"modal__content-image",src:t?P.a:U.a,alt:t?"success":"fail"}),t?r.a.createElement("p",{className:"modal__content-text"},"Success you have now been register"," "):r.a.createElement("p",{className:"modal__content-text"},"Oops, Something went wrong! Please try again"))))},I=a(23),X=a(24),q=function(){function e(t){var a=t.baseUrl,n=t.headers;Object(I.a)(this,e),this._baseUrl=a,this._headers=n}return Object(X.a)(e,[{key:"getCardList",value:function(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(e){if(e.ok)return e.json();Promise.reject("Error!"+e.status+e.statusText)}))}},{key:"getUserInfo",value:function(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.status+e.statusText)}))}},{key:"getPageInfo",value:function(){return Promise.all([this.getCardList(),this.getUserInfo()])}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:a})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))}))}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))}))}},{key:"addCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:a})}).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){e.ok?e.json():Promise.reject("error".concat(e.statusText))}))}},{key:"changeLikeCardStatus",value:function(e,t){return(t?fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}):fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})).then((function(e){return e.ok?e.json():Promise.reject("error".concat(e.statusText))}))}}]),e}(),T=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),u=Object(i.a)(c,2),m=u[0],d=u[1],p=Object(n.useState)(!1),g=Object(i.a)(p,2),E=g[0],S=g[1],w=Object(n.useState)(!1),P=Object(i.a)(w,2),R=P[0],U=P[1],I=Object(n.useState)(!1),X=Object(i.a)(I,2),T=X[0],J=X[1],Z=Object(n.useState)(!1),K=Object(i.a)(Z,2),V=K[0],H=K[1],Y=Object(n.useState)(!1),M=Object(i.a)(Y,2),B=M[0],D=M[1],G=Object(n.useState)({avatar:"",name:"",about:""}),Q=Object(i.a)(G,2),z=Q[0],W=Q[1],F=Object(n.useState)([]),$=Object(i.a)(F,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(i.a)(ae,2),re=ne[0],oe=ne[1],ce=Object(n.useState)(""),le=Object(i.a)(ce,2),se=le[0],ie=le[1],ue=Object(O.g)(),me=new q({baseUrl:"http://api.enyelbackend.students.nomoreparties.site",headers:{Authorization:"Bearer ".concat(se),"content-type":"application/json"}});function de(){var e=localStorage.getItem("jwt");(function(e){return fetch("".concat(y,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))})(e).then((function(t){ie(e),o(!0),d(t.email)})).then((function(){return ue.push("/")})).catch((function(e){S(!1),U(!0)}))}Object(n.useEffect)((function(){me.getUserInfo().then((function(e){W(e)})).catch((function(e){return console.log(e)}))}),[m]),Object(n.useEffect)((function(){me.getCardList().then((function(e){te(e.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(n.useEffect)((function(){de()}),[]);function fe(){J(!1),H(!1),D(!1),oe(""),U(!1)}return r.a.createElement(h.Provider,{value:z},r.a.createElement("div",{className:"page"},r.a.createElement(O.d,null,r.a.createElement(x,{exact:!0,path:"/",loggedIn:a,signOut:function(){localStorage.removeItem("jwt"),o(!1),d(""),ue.push("/signin")},component:b,userEmail:m,onEditProfile:function(){J(!0)},onAddCard:function(){D(!0)},onEditAvatar:function(){H(!0)},selectedCard:re,onClose:fe,cards:ee,onCardLike:function(e){var t=e.likes.some((function(e){return e===z._id}));me.changeLikeCardStatus(e._id,t).then((function(t){var a=ee.map((function(a){return a._id===e._id?t:a}));te(a)})).catch((function(e){return console.log(e)}))},onCardDelete:function(e){me.removeCard(e._id).then((function(){var t=ee.filter((function(t){return t._id!==e._id}));te(t)})).catch((function(e){return console.log(e)}))},onCardClick:function(e){return function(e){oe(e)}(e)}}),r.a.createElement(O.b,{path:"/signin"},r.a.createElement(f,{link:"/signup",linkText:"Sing Up"}),r.a.createElement(_,{heading:"Login",buttonText:"Log in",handleLogin:function(e,t){(function(e,t){return fetch("".concat(y,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e}))})(e,t).then((function(){de()})).catch((function(e){S(!1),U(!0)}))}})),r.a.createElement(O.b,{path:"/signup"},r.a.createElement(f,{link:"/signin",linkText:"Sign In"}),r.a.createElement(j,{handleSignup:function(e,t){(function(e,t){return fetch("".concat(y,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return e.json()})).then((function(e){return e}))})(e,t).then((function(e){e.error?(S(!1),U(!0)):(S(!0),U(!0),ue.push("/signin"))})).catch((function(e){return console.log(e)}))},heading:"Sign up",buttonText:"Sign up"})),r.a.createElement(O.b,{path:"/"},r.a.createElement(O.a,{to:"/signin"}))),r.a.createElement(k,null),r.a.createElement(N,{updateUser:function(e,t){me.setUserInfo({name:e,about:t}).then((function(){return W({name:e,about:t,avatar:z.avatar})})).then((function(){return J(!1)})).catch((function(e){return console.log(e)}))},isOpen:T,onClose:fe}),r.a.createElement(v,{isOpen:B,onClose:fe,onAddPlace:function(e){me.addCard(e).then((function(e){return te([].concat(Object(s.a)(ee),[e]))})).then((function(){D(!1)})).catch((function(e){return console.log(e)}))}}),r.a.createElement(C,{isOpen:V,onClose:fe,onUpdateAvatar:function(e){W(Object(l.a)(Object(l.a)({},z),{},{avatar:e})),me.setUserAvatar({avatar:e}).then((function(){fe()})).catch((function(e){return console.log(e)}))}}),r.a.createElement(A,{onClose:fe,card:re}),r.a.createElement(L,{popupType:"modal__signup",valid:E,isOpen:R,onClose:fe})))};c.a.render(r.a.createElement(u.a,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8698f09f.chunk.js.map