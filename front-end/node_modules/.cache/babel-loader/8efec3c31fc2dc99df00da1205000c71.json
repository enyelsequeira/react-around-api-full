{"ast":null,"code":"/* eslint-disable implicit-arrow-linebreak */\n\n/* eslint-disable no-confusing-arrow */\n\n/* eslint-disable prefer-promise-reject-errors */\n\n/* eslint-disable function-paren-newline */\n\n/* eslint-disable no-underscore-dangle */\nclass Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl; // console.log(this._baseUrl);\n\n    this._headers = headers; // console.log(this._headers);\n  } // GET https://around.nomoreparties.co/v1/groupId/cards\n\n\n  getCardList() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers\n    }).then(res => {\n      // console.log(res, 'from api');\n      if (res.ok) {\n        // console.log(res, 888);\n        return res.json();\n      }\n\n      Promise.reject(`Error!` + res.status + res.statusText); // res.ok\n      //   ? res.json()\n      //   :\n    });\n  } // GET https://around.nomoreparties.co/v1/groupId/users/me\n\n\n  getUserInfo() {\n    return fetch(this._baseUrl + `/users/me`, {\n      headers: this._headers\n    }).then(res => res.ok ? res.json() : Promise.reject(`Error!` + res.status + res.statusText));\n  }\n\n  getPageInfo() {\n    return Promise.all([this.getCardList(), this.getUserInfo()]);\n  } // PATCH https://around.nomoreparties.co/v1/groupId/users/me\n\n\n  setUserInfo({\n    name,\n    about\n  }) {\n    // console.log(name, about);\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(res => res.ok ? res.json() : Promise.reject(`error${res.statusText}`));\n  } // PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n\n\n  setUserAvatar({\n    avatar\n  }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(res => res.ok ? res.json() : Promise.reject(`error${res.statusText}`));\n  } // POST https://around.nomoreparties.co/v1/groupId/cards\n\n\n  addCard({\n    name,\n    link\n  }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(res => res.ok ? res.json() : Promise.reject(`error${res.statusText}`));\n  }\n\n  removeCard(cardId) {\n    // console.log(cardId);\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: this._headers,\n      method: 'DELETE'\n    }).then(res => {\n      // console.log(res, 8585877797789);\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`);\n    });\n  } // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n\n\n  changeLikeCardStatus(cardID, like) {\n    return (!like ? fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      headers: this._headers,\n      method: 'PUT'\n    }) : fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      headers: this._headers,\n      method: 'DELETE'\n    })).then(res => res.ok ? res.json() : Promise.reject(`error${res.statusText}`));\n  }\n\n}\n\nexport default Api;","map":{"version":3,"sources":["/home/enyel/Desktop/yandex1/react-around-api-full/front-end/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","getCardList","fetch","then","res","ok","json","Promise","reject","status","statusText","getUserInfo","getPageInfo","all","setUserInfo","name","about","method","body","JSON","stringify","setUserAvatar","avatar","addCard","link","removeCard","cardId","changeLikeCardStatus","cardID","like"],"mappings":"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","sourcesContent":["/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable prefer-promise-reject-errors */\n/* eslint-disable function-paren-newline */\n/* eslint-disable no-underscore-dangle */\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    // console.log(this._baseUrl);\n    this._headers = headers;\n    // console.log(this._headers);\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/cards\n  getCardList() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: this._headers,\n    }).then((res) => {\n      // console.log(res, 'from api');\n      if (res.ok) {\n        // console.log(res, 888);\n        return res.json();\n      }\n      Promise.reject(`Error!` + res.status + res.statusText);\n      // res.ok\n      //   ? res.json()\n      //   :\n    });\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/users/me\n  getUserInfo() {\n    return fetch(this._baseUrl + `/users/me`, {\n      headers: this._headers,\n    }).then((res) =>\n      res.ok\n        ? res.json()\n        : Promise.reject(`Error!` + res.status + res.statusText)\n    );\n  }\n\n  getPageInfo() {\n    return Promise.all([this.getCardList(), this.getUserInfo()]);\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me\n  setUserInfo({ name, about }) {\n    // console.log(name, about);\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  // POST https://around.nomoreparties.co/v1/groupId/cards\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  removeCard(cardId) {\n    // console.log(cardId);\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: this._headers,\n      method: 'DELETE',\n    }).then((res) => {\n      // console.log(res, 8585877797789);\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`);\n    });\n  }\n\n  // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  changeLikeCardStatus(cardID, like) {\n    return (!like\n      ? fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n          headers: this._headers,\n          method: 'PUT',\n        })\n      : fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n          headers: this._headers,\n          method: 'DELETE',\n        })\n    ).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n}\n\nexport default Api;\n"]},"metadata":{},"sourceType":"module"}